#索引


##1.索引是什么

索引是这样一个数据结构：它以一个或多个字段的值未输入并能“快速地”找出具有该值的记录。

###1.1PostgreSQL中的索引
索引实际上是一些数据的键值与元组标识符（或者说 TIDs）之间的映射， 这些元组标识符是索引的父表中的行版本（元组）的标识。 一个 TID 由一个块号和一个改块内的项编号组成（参阅 Section 50.3）。 这些就是从该表中抓取某个特定行版本的足够的信息。 索引并不直接知道在 MVCC 下，同一个逻辑行可能有多个现存的版本； 对于索引而言，每个元组都是一个独立的对象，都需要自己的索引条目。 因此，对一行的更新总是为该行创建全新的索引条目， 即使键值没有改变也如此。已经废弃的元组的索引条目是在废弃元组自己被回收的时候回收（通过清理).


##2.索引的重要性

能够加速在一个或多个属性上对特定值得查询。具体来说，索引是我们只需要查看所有可能记录中的一小部分就能找到所需记录。

##3.索引结构的基础

###3.1数据文件和索引文件

存储由文件构成，一个数据文件可以用来存储一个关系。一个数据文件可能拥有一个或多个索引文件，每个索引文件建立“查找键”与数据记录之间的关联，查找键的指针指向与查找键具有相同属性值得记录。

###3.2稠密索引VS稀疏索引

索引可以是稠密的，即数据文件中每个记录在索引文件中都设有一个索引项。索引也可以是稀疏的，即数据文件中只有一些记录在索引文件中表示出来，通常为每个数据块在索引文件中设一个索引项。

###3.3主索引与辅助索引

主索引能确定记录在数据文件中的位置，而辅助索引不能。(所谓的确定记录在数据文件中的位置指的是索引的顺序与记录的顺序是一致的)

###3.4顺序文件

顺序文件是对关系中的元组按主键的排序生成的文件。关系中的元组按照这个次序分布在多个数据块中。
